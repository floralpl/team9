"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.IndexPropertyKeys = IndexPropertyKeys;
const index_1 = require("../template-literal/index");
// ------------------------------------------------------------------
// TypeGuard
// ------------------------------------------------------------------
const kind_1 = require("../guard/kind");
// prettier-ignore
<<<<<<< HEAD
function FromTemplateLiteral(T) {
    const R = (0, index_1.TemplateLiteralGenerate)(T);
    return R.map(S => S.toString());
}
// prettier-ignore
function FromUnion(T) {
    const Acc = [];
    for (const L of T)
        Acc.push(...IndexPropertyKeys(L));
    return Acc;
}
// prettier-ignore
function FromLiteral(T) {
    return ([T.toString()] // TS 5.4 observes TLiteralValue as not having a toString()
=======
function FromTemplateLiteral(templateLiteral) {
    const keys = (0, index_1.TemplateLiteralGenerate)(templateLiteral);
    return keys.map(key => key.toString());
}
// prettier-ignore
function FromUnion(types) {
    const result = [];
    for (const type of types)
        result.push(...IndexPropertyKeys(type));
    return result;
}
// prettier-ignore
function FromLiteral(literalValue) {
    return ([literalValue.toString()] // TS 5.4 observes TLiteralValue as not having a toString()
>>>>>>> dd36f794aec55329dba52bd59bdd29e0d232b50c
    );
}
/** Returns a tuple of PropertyKeys derived from the given TSchema */
// prettier-ignore
<<<<<<< HEAD
function IndexPropertyKeys(T) {
    return [...new Set(((0, kind_1.IsTemplateLiteral)(T) ? FromTemplateLiteral(T) :
            (0, kind_1.IsUnion)(T) ? FromUnion(T.anyOf) :
                (0, kind_1.IsLiteral)(T) ? FromLiteral(T.const) :
                    (0, kind_1.IsNumber)(T) ? ['[number]'] :
                        (0, kind_1.IsInteger)(T) ? ['[number]'] :
=======
function IndexPropertyKeys(type) {
    return [...new Set(((0, kind_1.IsTemplateLiteral)(type) ? FromTemplateLiteral(type) :
            (0, kind_1.IsUnion)(type) ? FromUnion(type.anyOf) :
                (0, kind_1.IsLiteral)(type) ? FromLiteral(type.const) :
                    (0, kind_1.IsNumber)(type) ? ['[number]'] :
                        (0, kind_1.IsInteger)(type) ? ['[number]'] :
>>>>>>> dd36f794aec55329dba52bd59bdd29e0d232b50c
                            []))];
}
